# 机制设计：简介

## 导言

机制设计是经济学的一个分支，我们曾在微观经济学与博弈论基础的最后讨论过社会选择理论，即个人偏好如何可能被加总为社会偏好，最终变成集体决策。然而很多情况下，个人偏好不是公开可观知的，但仍然要做出集体决策，因此我们需要依靠个人自身来显示他们的偏好信息。因此机制设计的核心问题是**如何设计机制诱导个人自身显示他们的偏好信息，以及在多大程度上信息显示问题制约了社会对个人偏好的反应方式**。

事实上，机制设计的应用也非常广泛，除了直接的市场设计外，国家政策的制定（所谓“上有政策下有对策”）也可以看作是一种机制设计。进一步地，经济学的核心目标，即关于资源如何在理性决策者之间实现有效配置，也可以看作是一个机制设计问题（事实上机制设计这一领域正发端于对社会主义和资本主义在资源配置效率方面的比较）。这一领域的重要性也使得瑞典皇家科学院将 2007 年度的诺贝尔经济学奖颁给了三位为机制设计奠定理论基础并做出卓越贡献的经济学家。其中，**里奥尼德·赫维茨**最早提出机制设计理论，因此而被誉为“机制设计理论之父”。之后，**马斯金**和**迈尔森**进一步发展了机制设计理论。他们的理论研究核心是如何在信息分散和信息不对称的条件下设计激励相容的机制来实现资源的有效配置。

事实上，机制设计理论已经成为上世纪后期微观经济学领域发展最快的一个分支。机制设计的理论深化了人们对不同情况下资源最优配置机制性质的理解，有助于当事人识别市场机制在什么情况下会失效，并帮助当事人确定有效的交易机制、管制计划和表决程序，为研究、比较和设计不同经济制度安排或经济机制提供了理论框架，在现实经济中具有非常广阔的应用空间。目前，这些理论已在税收、公司改革等经济学的许多领域以及政治学的某些领域发挥着重要的作用。

在机制设计方面，我们首先关注经济学角度的传统研究，之后我们会转入计算经济领域更前沿的研究。经济学方面的研究可以参考的资料有：

- 《微观经济理论》第 23 章
- *A Course in Game Theory*，Osborne and Rubistein 第 10 章

市场设计是机制设计的一个重要应用领域，下面这一网站是一个专门的介绍市场设计的网站，感兴趣的读者可以参看：

- https://www.market-design.com/

一个值得讨论的问题是机制设计与博弈论之间的关系，事实上博弈论可以看作是给定一个机制，研究在这个机制下个体的最优策略选择与均衡状态，机制设计则是给定一个目标均衡状态，研究如何设计机制使得这个均衡状态成为最优策略选择。因此，他们从某种程度上可以说是相反的两个过程，是紧密联系的两个主题。

## 机制设计问题

我们首先定义什么是机制设计问题，然后给出一些经典的例子。考虑 I 个参与人 $i=1,\ldots,I$ 的情形。这些参与人必须从某个可能备选方案集 $X$ 中作出一个集体选择。然而在作出选择之前，每个参与人 $i$ 私下知道他对 $X$ 中备选方案的偏好。正式地，我们假设参与人 $i$ 私下知道决定他偏好的参数或信号 $\theta_i$。我们通常将 $\theta_i$ 称为参与人 $i$ 的**类型（type）**。参与人 $i$ 的可能类型集记为 $\Theta_i$。假设每个参与人 $i$ 都是期望效用最大化者，当他为类型 $\theta_i$ 时他的伯努利效用函数为 $u_i(x,\theta_i)$。我们将伴有效用函数 $u_i(x,\theta_i)$ 的 $X$ 中的配对备选方案上的序数偏好关系记为 $\succeq_i(\theta_i)$。因此，参与人 $i$ 在 $X$ 上的可能偏好关系集为

$$ \mathcal{R}_i = \{\succeq_i \mid  \succeq_i = \succeq_i(\theta_i)\ \text{ 对于某个 }\ \theta_i \in \Theta_i\} $$

注意到由于 $\theta_i$ 只能被参与人 $i$ 观测到，因此我们处在非完全信息的环境中。使用通常的假设，我们假定参与人的类型是从共同可知的先验分布抽出的。特别地，我们用 $\theta = (\theta_1,\ldots,\theta_I)$ 表示参与人类型组合，假设 $\theta \in \Theta_1 \times \ldots \times \Theta_I$ 可能实现值的概率密度为 $\phi$。假设概率密度 $\phi$、集合 $\Theta_1,\ldots,\Theta_I$ 以及效用函数 $u_i(\cdot,\theta)$ 是参与人都知道的共同知识，但是只有每个参与人 $i$ 知道自己的类型。事实上这是所谓**私人价值（private values）**模型，即参与人的偏好仅取决于自己的类型，但更一般的情况下参与人的偏好可能还取决于别人的偏好，例如 $i$ 关于是否举行家庭聚餐的偏好可能取决于 $j$ 对可能天气条件的知识。

由于参与人的偏好取决于 $\theta = (\theta_1,\ldots,\theta_I)$ 的实现值，参与人可能希望集体决策取决于 $\theta$。为了正式描述这种依赖性，我们在下面的定义 1 中引入**社会选择函数**的概念，之前在微观经济学的社会选择理论中已讨论过这个概念。

!!! note "定义 1：社会选择函数"
    社会选择函数是一个函数 $f: \Theta_1 \times \ldots \times \Theta_I \to X$，它对参与人类型的每个可能组合 $(\theta_1,\ldots,\theta_I)$ 指定了一个集体选择 $f(\theta_1,\ldots,\theta_I) \in X$。

联系社会选择理论一讲的内容，在那里每个参与人的类型实际上就是自己在备选方案集合 $X$ 上的序数偏好。其次，和社会选择理论一讲一样，我们研究的是社会选择函数是单值的情况。接下来我们还需要将之前讨论的帕累托性质也引入当前讨论的框架，这就是下面的定义 2 中描述的事后效率：

!!! note "定义 2：事后有效率"
    社会选择函数 $f: \Theta_1 \times \ldots \times \Theta_I \to X$ 是**事后有效率的（或帕累托的，ex post efficient or Paretian）**，如果对于任何组合 $(\theta_1,\ldots,\theta_I)$，不存在一个 $x \in X$ 使得 $u_i(x,\theta_i) \geqslant u_i(f(\theta),\theta_i)$ 对于每个 $i$ 成立，而且 $u_i(x,\theta_i) > u_i(f(\theta),\theta_i)$ 对于某个 $i$ 成立。

这个定义非常简单明了：事后有效率的社会选择函数选择了一个不存在帕累托改进的结果（或者说选择了一个帕累托最优的结果）。接下来我们就要开始讨论一些经典的例子。事实上在机制设计中，参与人面对的关键问题是 $\theta_i$ 不是公共可观知的，因此当参与人的类型为 $(\theta_1,\ldots,\theta_I)$ 时，为使社会选择 $f(\theta_1,\ldots,\theta_I)$ 被选定，我们必须依赖每个参与人 $i$ 自身来披露他的类型 $\theta_i$。然而，对于一个给定的社会选择函数 $f$，某个参与人可能发现如实披露信息不符合自己的最佳利益。我们使用下面的 3 个例子说明信息披露问题，这些例子从非常抽象到比较具体。

!!! question "例 1：抽象的社会选择情形"
    在最抽象的情形下，给定一个集合 $X$，以及对于每个参与人 $i$，给定一个位于 $X$ 上的可能理性偏好序集合 $\mathcal{R}_i$。考虑一个非常简单的例子。假设 $X=\{x,y,z\}$ 而且 $I = 2$。假设参与人 1 有一种可能的类型，因此 $\Theta_1=\{\overline{\theta}_1\}$，参与人 2 有两种可能类型，因此 $\Theta_2=\{\theta_2',\theta_2''\}$。参与人的可能偏好序 $\mathcal{R}_1 = \{\succeq_1(\overline{\theta}_1)\}$ 和 $\mathcal{R}_2 = \{\succeq_2(\theta_2'),\succeq_2(\theta_2'')\}$ 为

    \begin{gather*}
        x \succeq_1(\overline{\theta}_1) y \succeq_1(\overline{\theta}_1) z \\
        z \succeq_2(\theta_2') y \succeq_2(\theta_2') x \\
        y \succeq_2(\theta_2'') x \succeq_2(\theta_2'') z
    \end{gather*}

    现在假设参与人希望执行满足下列条件的事后有效率社会选择函数 $f$：

    $$ f(\overline{\theta}_1,\theta_2') = y,\ f(\overline{\theta}_1,\theta_2'') = x $$

    如果这样，我们必须寄希望于参与人如实披露自己的偏好。但是显然参与人 2 发现这么做不符合自己的利益：当 $\theta_2=\theta_2''$ 时，他希望谎称自己的类型为 $\theta_2'$，因为这样可以得到自己在 $\theta_2''$ 下最喜欢的 $y$。

这一例子展现了机制设计中“上有政策，下有对策”的直观。当然在抽象社会选择情形下，我们最感兴趣的情形是对于每个参与人 $i$，$\mathcal{R}_i$ 等于 $X$ 上的所有可能理性偏好关系组成的集合 $\mathcal{R}$。在这种情形下，每个参与人有很多种可能的谎报，在直觉上，社会选择函数似乎很难总能够诱导参与人如实披露自己的偏好。在之后当我们介绍吉巴德-萨特斯韦特定理时，我们将看到正式结果的确如此。

!!! question "例 2：公共项目"
    假设有 $I$ 个参与人必须决定是否共同建设某个公共项目，比如建座桥，成本由参与人自行负担。结果是个向量 $x = (k,t_1,\cdots,t_I)$，其中 $k \in \{0,1\}$ 表示是否建桥的决策（$k=1$ 表示建，$k=0$ 表示不建）；$t_i \in \mathbb{R}$ 表示转移给参与人 $i$ 的钱数（如果 $t_i < 0$，则表示从参与人 $i$ 手中转移出的钱数）。该公共项目的成本为 $c \geqslant 0$，因此，这 $I$ 个参与人的可行备选方案集为

    $$ X = \{(k,t_1,\cdots,t_I) : k \in \{0,1\}, t_i \in \mathbb{R}\ \text{ 对于所有 } i, \sum\limits_{i=1}^I t_i \leqslant -ck\} $$
    
    约束条件 $\sum\limits_{i=1}^I t_i \leqslant -ck$ 的意思是参与人无法向外部借钱（因此，如果 $k=1$，那么 $c + \sum\limits_{i=1}^I t_i \leqslant 0$；如果 $k=0$，那么 $\sum\limits_{i=1}^I t_i \leqslant 0$）。我们假设类型 $\theta_i$ 的伯努利效用函数具有拟线性形式 $u_i(x,\theta_i) = \theta_i k + (\overline{m}_i - t_i)$，其中 $\overline{m}_i$ 是参与人 $i$ 的计价物（“钱”）禀赋；$\theta_i \in \mathbb{R}$，我们可以把 $\theta_i$ 解释为参与人 $i$ 对建桥一事的支付意愿。  

    在这个情形下，对于社会选择函数 $f(\theta) = (k(\theta),t_1(\theta),\cdots,t_I(\theta))$ 来说，如果对于所有 $\theta$，我们有

    $$ k(\theta) = \begin{cases} 1 & \text{若} \sum\limits_{i=1}^I \theta_i \geqslant c \\ 0 & \text{若} \sum\limits_{i=1}^I \theta_i < c \end{cases} \tag{1} \label{eq1} $$

    以及

    $$ \sum\limits_{i=1}^I t_i(\theta) = -ck(\theta) \tag{2} \label{eq2} $$

    那么该社会选择函数是事后有效率的。

    假设参与人希望执行满足式 $\eqref{eq1}$ 和式 $\eqref{eq2}$ 的一个社会选择函数，这个函数遵循成本平等均摊规则，即 $t_i(\theta) = -\dfrac{c}{I}k(\theta)$。为了考察一个简单的例子，假设 $\Theta_i = \{\overline{\theta}_i\}$ 对于 $i \neq 1$（因此除了参与人 1 之外，所有其他参与人的偏好都是已知的）并且 $\Theta_1 = [0,+\infty)$。另外，假设 $c > \sum\limits_{i \neq 1}\overline{\theta}_i > c(I-1)/I$。这些不等式意味着：
    
    1. 首先，对于这个社会选择函数，参与人 1 的偏好决定了是否建桥（如果 $\overline{\theta}_1 \geqslant c - \sum\limits_{i \neq 1}\overline{\theta}_i \geqslant 0$，那么建桥；如果 $\overline{\theta}_1 < c - \sum\limits_{i \neq 1}\overline{\theta}_i$，那么不建桥）；
    2. 其次，在这个成本平等均摊规则下，参与人 $2,\cdots,I$ 在建桥情形下的效用之和大于不建桥情形下的（这是因为 $\sum\limits_{i \neq 1}\overline{\theta}_i - c(I-1)/I > 0$，即效用之和大于成本之和）。

    下面我们分析当 $\theta_1 = c - \sum\limits_{i \neq 1}\overline{\theta}_i + \varepsilon$ 对于 $\varepsilon > 0$ 时参与人 1 如实显示自己类型的激励。如果参与人 1 如实显示了自己的偏好，那么将会建桥，这是因为

    $$ (c - \sum\limits_{i \neq 1}\overline{\theta}_i + \varepsilon) + \sum\limits_{i \neq 1}\overline{\theta}_i > c $$

    在这种情形下参与人 1 的效用为

    $$ \theta_1 + \overline{m}_1 - t_1 = (c - \sum\limits_{i \neq 1}\overline{\theta}_i + \varepsilon) + \overline{m}_1 - \dfrac{c}{I} > \overline{m}_1 = \left(\dfrac{c(I-1)}{I} - \sum\limits_{i \neq 1}\overline{\theta}_i + \varepsilon \right) + \overline{m}_1 $$
    
    但是，对于足够小的 $\varepsilon > 0$，上式小于 $\overline{m}_1$，而 $\overline{m}_1$ 是参与人 1 谎称 $\theta_1 = 0$ 时带给他的效用，这个谎报导致了桥建不起来。因此，参与人 1 偏爱不如实报告自己的类型。直觉上，在这个配置规则下，当参与人 1 导致建桥结果时，他对其他参与人（整体）有正的外部性。由于他无法将这个效应内部化，他会说建桥没带给他多少好处。

接下来我们来看一个非常经典的例子，这个例子和拍卖理论有非常强的关联：
!!! question "例 3：分配一单位某种不可分割私人物品"
    假设我们打算将一单位某种不可分割私人物品分配给 $I$ 个参与人中的一个，并假设允许货币转移。这样，我们的结果就可用向量 $x=(y_1,\cdots,y_I,t_1,\cdots,t_I)$ 表示，其中，若参与人 $i$ 得到该物品，则 $y_i=1$；若参与人 $i$ 没得到该物品，则 $y_i=0$；$t_i$ 是参与人 $i$ 得到的货币转移。于是，可行备选方案集为

    $$ X = \{(y_1,\cdots,y_I,t_1,\cdots,t_I) \mid y_i \in \{0,1\}, t_i \in \mathbb{R}\ \text{ 对于所有 } i, \sum\limits_{i} y_i = 1,\ \sum\limits_{i} t_i \leqslant 0\} $$
    
    我们假设类型 $\theta_i$ 的伯努利效用函数具有拟线性形式 $u_i(x,\theta_i) = \theta_iy_i + (\overline{m}_i - t_i)$，其中 $\overline{m}_i$ 是参与人 $i$ 的计价物（“钱”）禀赋。此处，我们可以将 $\theta_i \in \mathbb{R}$ 视为参与人 $i$ 对该物品的评价，我们将参与人 $i$ 的可能评价集取为 $\Theta_i = [\underline{\theta}_i,\overline{\theta}_i]$。
    
    在这种情形下，对于一个社会选择函数 $f(\theta) = (y_1(\theta),\cdots,y_I(\theta),t_1(\theta),\cdots,t_I(\theta))$ 来说，如果
    
    1. 它总是将物品分配给对该物品评价最高的人（如果这样的人有若干个，则分配给其中一个），即对于所有 $i$ 都有 $y_i(\theta)(\theta_i - \max\{\theta_1,\cdots,\theta_I\}) = 0$；
    2. 它不涉及计价物的浪费，也就是说，如果对于 $\theta = (\theta_1,\cdots,\theta_I)$，我们有 $\sum\limits_{i=1}^I t_i(\theta) = 0$；
    
    那么这个社会选择函数是事后有效率的。下面我们讨论文献中主要关注的两种特殊情形。第一种情形是**双边交易（bilateral trade）**。对此，我们有 $I=2$；我们将参与人 1 视为物品的初始拥有者（卖者），参与人 2 是潜在买者。当 $\underline{\theta}_2 > \overline{\theta}_1$ 时，不管 $\theta_1$ 和 $\theta_2$ 的实现值为多少，交易存在着好处；当 $\overline{\theta}_1 > \underline{\theta}_2$ 时，不存在交易好处；最后，如果 $\underline{\theta}_2 < \overline{\theta}_1$ 和 $\underline{\theta}_1 < \overline{\theta}_2$，交易可能存在着好处，也可能不存在，这取决于 $\theta$ 的实现值（读者可以在数轴上画图来直观理解）。

    第二种特殊情形是**拍卖（auction）**。对此，我们将一个参与人指定为参与人 0，他是物品的卖者（拍卖人），假设他对该物品的评价为零（更一般地，卖者对物品的评价可能不为零，而是已知值 $\theta_0 = \overline{\theta}_0$）。其他参与人 $1,\cdots,I$ 是潜在买者（竞价人），因此拍卖实际上一共有 $I + 1$ 个参与人。为了说明这个例子中的信息显示问题，考虑有两个买者（$I=2$）的拍卖情形。我们假设两个买者的评价 $\theta_i$（私人信息）是**从 $[0,1]$ 上的均匀分布独立抽取出的**，这个分布是所有参与人的共同知识。考虑社会选择函数 $f(\theta) = (y_0(\theta),y_1(\theta),y_2(\theta),t_0(\theta),t_1(\theta),t_2(\theta))$，其中

    \begin{align*}
        y_1(0) &= 1\ \text{若 } \theta_1 \geqslant \theta_2;\ 0\ \text{若 } \theta_1 < \theta_2 \\
        y_2(\theta) &= 1\ \text{若 } \theta_1 < \theta_2;\ 0\ \text{若 } \theta_1 \geqslant \theta_2 \\
        y_0(\theta) &= 0\ \text{对于所有 } \theta \\
        t_1(\theta) &= -\theta_1y_1(\theta) \\
        t_2(\theta) &= -\theta_2y_2(\theta) \\
        t_0(\theta) &= -(t_1(\theta) + t_2(\theta))
    \end{align*}

    在这个社会选择函数中，卖者将物品卖给对该物品评价最高的买者（如果报价相同，则卖给买者 1），这个买者支付的钱数等于他的评价（另外一个买者即报价较低的买者得不到物品，自然也不需要支付钱）。注意到，$f$ 不仅是事后有效率的，对于卖者也具有吸引力：如果 $f$ 得以执行，卖者将得到物品产生的所有消费好处。

    假设我们打算执行这个社会选择函数。假设买者是期望效用最大化者。现在我们问个问题：如果买者 2 总是如实报告自己的真实评价，买者 1 也会这么做吗？对于 $\theta_1$ 的每个值，买者 1 的问题是，选择自己报出的评价 $\hat{\theta_1}$ 从而使得我们取到

    $$ \max\limits_{\hat{\theta_1}}(\theta_1 - \hat{\theta_1})\ \text{Prob}(\theta_2 \leqslant \hat{\theta_1}) = \max\limits_{\hat{\theta_1}}(\theta_1 - \hat{\theta_1})\hat{\theta_1} $$

    等号是因为 $\theta_2$ 服从 $[0,1]$ 上的均匀分布。显然，这个问题的解是 $\hat{\theta_1} = \theta_1/2$。我们看到如果买者 2 总是如实报告自己的评价，如实报告不是买者 1 的最优选择。类似的结论也适用于买者 2。在直觉上，对于这个社会选择函数，每个买者都有低报他的评价的激励，以便在他的报价为最高报价从而得到物品情形下降低自己支付的钱数。他这么做的代价是他得到物品的可能性降低了，但在某种程度上，这是个值得承担的代价。因此，我们再次看到在信息是私人信息情形下，执行某个社会选择函数会遇到问题。

    然而只需要我们对上面的社会选择函数稍作修改，就可以得到一个无谎报激励的社会选择函数。为了看清这一点，假设我们打算执行社会选择函数 $f$，其中配置规则（即 $y_i(\theta)$）的表达式同上，但现在转移函数变为

    \begin{align*}
        t_1(\theta) &= -\theta_2y_1(\theta) \\
        t_2(\theta) &= -\theta_1y_2(\theta) \\
        t_0(\theta) &= -(t_1(\theta) + t_2(\theta))
    \end{align*}

    在这个社会选择函数中，如果买者 $i$ 得到物品，他支付的钱数不等于他对物品的评价 $\theta_i$，而是等于 $\theta_j$，其中 $j \neq i$；也就是说，他支付的钱数等于**第二高的评价（second-highest valuation）**。现在考虑买者 1 如实报价的激励：
    
    1. 如果买者 2 的报价为 $\theta_2 \leqslant \theta_1$，买者 1 通过如实报价 $\theta_1$ 而得到的效用为 $(\theta_1 - \theta_2) \geqslant 0$。对于其他报价，买者 1 得到的效用要么等于上述效用（如果他的报价不小于 $\theta_2$），要么为零（如果他的报价小于 $\theta_2$），因此此时对于买者 1 来说，如实报价是弱占优的；
    2. 如果买者 2 的报价为 $\theta_2 > \theta_1$，那么如果参与人 1 如实报价，参与人 1 的效用将为零。然而，如果买者 1 通过谎报得到了物品（声称自己的评价不低于 $\theta_2$），他得到的效用为负。
    
    因此，我们断言：不论买者 2 的报价如何，买者 1 的最优选择是如实报价，这是一个弱占优策略。类似的结论对于买者 2 也成立。

事实上，例 3 中的第一个社会选择函数推广之后就是**第一价格密封拍卖（first-price sealed-bid auction）**，而第二个社会选择函数对应的是**第二价格密封拍卖（second-price sealed-bid auction）**。在第一价格密封拍卖中，每个买者递交密封的报价，报价最高的买者得到物品，他向卖者支付的钱数等于他的报价；而在第二价格密封拍卖中，报价最高的买者得到物品，他向卖者支付的钱数等于第二高的报价。我们看到，第一价格拍卖中诚实报价并非最优策略，但第二价格密封拍卖中诚实报价对于买者来说是弱占优的。

## 直接显示机制

例 1 到例 3 表明，当参与人的类型是私人信息时，有些社会选择函数可能会导致参与人不如实披露自己的类型，从而无法达到我们设计这一社会选择函数的目标。因此我们需要站在一个规则设计者的角度，考虑当我们设计一个社会选择函数的时候，我们会如何思考。我想最经典的还是“上有政策，下有对策”，因此我们在设计社会选择函数时，我们应当去模拟在这一社会选择函数下参与人会做什么，是否符合我们的预期。也就是说，我们是在设计一套规则来让参与人相互作用，然后得到我们预期中的结果。这套规则的正式名称就是**机制（mechanism）**，根据前面的讨论，如下是“机制”非常自然的定义：

!!! note "定义 3：机制"
    一个机制 $\Gamma = (S_1,\ldots,S_I,g(\cdot))$ 是由 $I$ 个策略集和一个结果函数 $g: S_1 \times \ldots \times S_I \to X$ 组成的一个集族。

我们可以将机制视为一种制度，它规定了集体选择决策的程序。每个参与人 $i$ 能够采取的行动可用策略集 $S_i$ 概括，规定参与人的行动如何转化为社会选择的规则可用结果函数 $g(\cdot)$ 描述。正式地，机制 $\Gamma$ 与可能类型 $(\Theta_1,\ldots,\Theta_I)$、概率密度 $\phi(\cdot)$ 以及伯努利效用函数 $(u_1(\cdot),\ldots,u_I(\cdot))$ 一起定义了一个不完全信息博弈。也就是说，令 $\overline{u}_i(s_1,\ldots,s_I,\theta_i) = u_i(g(s_1,\ldots,s_I),\theta_i)$，博弈

$$ (I,\{S_i\},\{\overline{u}_i(\cdot)\},\Theta_1 \times \cdots \times \Theta_I,\phi(\cdot)) $$

正好是我们研究过的贝叶斯博弈类型，在这一博弈中，每个参与人 $i$ 的策略是个函数 $s_i: \Theta_i \to S_i$，该函数对于他在 $\Theta_i$ 中的每个可能类型指定了一个他在 $S_i$ 中的选择。接下来我们需要把机制和社会选择函数联系起来，这就是所谓的“执行”（implement）的概念。大致地说，我们称某个机制执行了社会选择函数 $f$，如果对于每个可能的类型组合 $\theta = (\theta_1,\ldots,\theta_I)$，由机制产生的博弈存在着一个均衡使得该均衡产生的结果与 $f$ 相同。定义 4 正式阐述了这一点：

!!! note "定义 4：机制执行社会选择函数"
    机制 $\Gamma = (S_1,\ldots,S_I,g(\cdot))$ 执行了社会选择函数 $f$，如果由 $\Gamma$ 产生的博弈存在一个均衡策略组合 $(s_1^*(\cdot),\ldots,s_I^*(\cdot))$ 使得 $g(s_1^*(\theta),\ldots,s_I^*(\theta)) = f(\theta)$ 对于所有 $\theta \in \Theta_1 \times \cdots \times \Theta_I$ 成立。

用通俗的语言来说，一个机制执行了一个社会选择函数，意味着**在这一机制下的不完全信息博弈的均衡结果等于社会选择函数在参与人诚实披露自己类型的情形下的结果**。然而，注意到，在定义 4 中我们没有给出“均衡”的准确定义。这是因为目前哪种解概念都不能普适性地作为博弈的合适解概念。因此，机制设计文献考察了一系列解概念的执行问题。在之后的两讲中，我们主要考察两个核心解概念：占优策略均衡和贝叶斯纳什均衡。还需要注意到，我们在定义 4 中使用的执行概念在某种意义上是个弱概念：具体地说，机制 $\Gamma$ 下的均衡可能不止一个，但是定义 4 仅要求其中一个均衡产生的结果与 $f$ 相同。这样一来，定义 4 隐含地假设如果存在多个均衡，参与人必须选择机制设计者想要的那个均衡。我们通常忽略多个均衡的情况，对于多个均衡的情况，在 MWG《微观经济理论》第 23 章的附录 A 中有对这个问题的进一步讨论。

事实上，我们心中会有一个自然的问题：当参与人的类型是私人信息时，可执行的社会选择函数是什么样的？这个问题是机制设计的一个核心问题。寻找所有可执行的社会选择函数似乎是个艰巨的任务，这是因为在理论上似乎我们需要考察所有可能的机制——这是个非常大的集合。例 4 给出了一个看起来有些猎奇的例子说明了这一点：

!!! question "奇怪的机制"
    假设我们要出售一个不可分割的物品，机制如下：

    1. 每个参与人 $i$ 的行动集合 $S_i = \{\text{跳两次}(J),\text{踢一个点球}(L)\}$，在出结果前可以重复如上动作；
    2. 最终将从踢过点球的参与人中随机选取一个人，他将得到物品；
    3. 得到物品的人将支付给卖者他跳的次数的金额。

这个例子实在是太过于奇怪，因为明明是出售物品，参与人的行动竟然不是出价，并且最后分配规则和支付规则也非常奇特，但这的确没有违反机制的定义，并且我们也应当可以找到均衡结果。幸运的是，接下来我们将介绍一个非常重要的结论，即所谓**显示原理（revelation principle）**，它是机制设计理论的一个核心结论，也是迈尔森获得诺贝尔奖的核心成果。在显示原理的指导下，我们可以仅考察一类非常自然的特殊机制而不失一般性：

1. 每个参与人的行动集合 $S_i = \Theta_i$，即每个参与人的行动就是显示一个类型（满足这一条称为直接机制）；
2. 机制的结果函数等于社会选择函数。

这种机制称为**直接显示机制（direct revelation mechanisms）**，我们给出其正式定义，实际上就是形式化了前面的两点：

!!! note "定义 5：直接显示机制"
    直接显示机制是一个机制 $\Gamma = (S_1,\ldots,S_I,g(\cdot))$，其中 $S_i = \Theta_i$ 对于所有 $i$，且 $g(\theta) = f(\theta)$ 对于所有 $\theta \in \Theta_1 \times \cdots \times \Theta_I$。

事实上 $g(\theta) = f(\theta)$ 是不足够的，我们还需要期望**参与人在均衡下如实显示自己的类型**，这样我们的直接显示机制 $(\Theta_1,\ldots,\Theta_I,f(\cdot))$（注意这里的 $g$ 已经被替换为 $f$） 才能执行 $f$。这就引入了下面激励相容的概念，之后要证明的显示原理也可以进一步限制在激励相容的直接显示机制上：

!!! note "定义 6：激励相容"
    社会选择函数 $f$（或相应的直接显示机制）是**如实可执行的（truthfully implementable）**或称为**激励相容的（incentive compatible）**，如果直接显示机制 $\Gamma = (\Theta_1,\ldots,\Theta_I,f(\cdot))$ 有一个均衡 $(s_1^*(\cdot),\ldots,s_I^*(\cdot))$，其中 $s_i^*(\theta_i) = \theta_i$ 对于所有 $i$ 和所有 $\theta_i \in \Theta_i$ 成立。

因此激励相容的直接显示机制可以说是一种可以“自我实现”的机制，我们精巧地设计结果函数 $f$，然后期望参与人在均衡下如实显示自己的类型，从而最终的社会选择结果就是我们设计的 $f$ 在诚实显示下的结果。说起来有些抽象，我们可以考虑之前提到的二价拍卖社会选择函数 $f$，我们可以设计相应的直接显示机制，因为买者如实显示自己的价值此时是占优策略，因此二价拍卖机制是激励相容的直接显示机制，机制设计者应用二价拍卖的结果就是心理价位更高的买家得到物品，而支付的价格是次高价位，和我们设计的 $f$ 在诚实报价的情况下的结果一致，符合我们设计的期望。

然而，一价拍卖社会选择函数导出的直接显示机制就不是激励相容的，因为一价拍卖中每个参与人报价低于自己的估值才是均衡结果，因此最终能执行的社会选择函数并非一价拍卖的社会选择函数。这时我们就可以回到我们的核心问题，即什么样的社会选择函数是可以被执行的？下面的显示原理给出了一个间接的答案：

!!! note "显示原理"
    如果存在能在占优策略（或贝叶斯纳什均衡）中执行社会选择函数 $f$ 的某个机制 $\Gamma = (S_1,\ldots,S_I,g(\cdot))$，那么 $f$ 在占优策略（或贝叶斯纳什均衡）中是如实可执行的。

!!! note "显示原理的证明（sketch）"
    我们考虑占优策略的情况（贝叶斯纳什均衡的证明类似，略去）。如果机制 $\Gamma = (S_1,\ldots,S_I,g(\cdot))$ 在占优策略中执行了 $f$，这意味着存在一个均衡策略组合 $(s_1^*(\cdot),\ldots,s_I^*(\cdot))$ 使得 $g(s_1^*(\theta),\ldots,s_I^*(\theta)) = f(\theta)$ 对于所有 $\theta \in \Theta_1 \times \cdots \times \Theta_I$ 成立。
    
    接下来我们构造一个直接显示机制如实执行 $f$。令 $\Gamma' = (S_1',\ldots,S_I',g'(\cdot))$，其中 $S_i' = \Theta_i$ 对于所有 $i$，$g'(\theta) = g(s_1^*(\theta_1),\ldots,s_I^*(\theta_I))$ 对于所有 $\theta \in \Theta_1 \times \cdots \times \Theta_I$。我们断言 $\Gamma'$ 是激励相容的直接显示机制，这也并不难证明：
    
    1. 直接机制是显然的，因为策略集合就是类型集合；
    2. $g'(\theta) = g(s_1^*(\theta_1),\ldots,s_I^*(\theta_I)) = f(\theta)$，因此是显示机制；
    3. 由于 $(s_1^*(\cdot),\ldots,s_I^*(\cdot))$ 是 $\Gamma$ 的占优均衡，而在 $\Gamma$ 下报出 $\theta_i$ 相当于做出了选择 $s_i^*(\theta_i)$，因此诚实显示是占优策略。

    由此，我们构造出了如实可执行（激励相容）的机制 $\Gamma'$ 如实执行 $f$，从而显示原理得证。

关于显示原理，有如下几点需要强调，便于读者理解这一结论：

1. 总结显示原理的证明思想：原先的机制中每个人选择 $s_i^*(\theta_i)$ 是最优的反应，现在我们稍微改变一下这个机制，引入一位仲裁者，他对每个参与人 $i$ 说：“你把你的类型告诉我，当你说你的类型为 $\theta_i$ 时，我帮你选择 $s_i^*(\theta_i)$”。这样一来，每个参与人都会如实显示自己的类型，因为他们知道这样做是最优的反应，这就是我们构造 $\Gamma'$ 的思想。
2. 显示原理的结论表明，只要是可执行的社会选择函数，就一定是如实可执行的，即存在一个激励相容的直接显示机制执行这一社会选择函数。这也表明我们在考虑机制时只需要考虑激励相容的直接显示机制，而不失一般性（因为所有可执行的社会选择函数都可以被如实执行，也就是说激励相容的直接显示机制可以得到的结果是所有可执行的社会选择函数的结果）。

现在我们再来审视前面那个猎奇的例子，事实上我们只需要求出它的均衡结果，然后按照上面提到的思想构造一个激励相容直接显示机制，就可以转化为一个最终社会选择完全一致（从而在所有人看来都是等价的机制）的诚实报价的非常自然的机制，这就是显示原理的强大之处。一价拍卖的例子也是如此，一价拍卖可执行的社会选择函数也可以利用显示原理设计出一个诚实机制来执行。当然，显示原理仅仅是能让我们自信地缩小讨论范围，在**一些特殊情形下的激励相容机制的设计仍然值的讨论**（例如虽然我们已经知道一价拍卖如何利用显示原理转化为激励相容机制，但任意分配机制下如何设计支付规则使得拍卖激励相容是很有趣的），之后我们会在迈尔森引理等内容中看到这一问题在一些情况下的解答。

最后，我们注意到，在某些情形下，参与人可能自愿地参与机制，因此，一个能成功执行的社会选择函数必须不仅能诱导出信息的如实显示，也必须满足某些**参与约束（participation constraints）**或称**个人理性约束**，这一点我们也会在之后引入。